<div class="h-screen">
  <mat-drawer-container class="flex-col h-full" (onValueChangedEvent)="valueChangedEvent($event)">
    <mat-drawer class="lg:w-5/8 md:w-3/4 sm:w-full bg-white-100" #drawer [opened]="false" mode="over" [position]="'end'"
      [disableClose]="false">
      <mat-card class="flex flex-col w-full text-gray-700 filter-article filter-interactive">
        <div mat-dialog-title [ngStyle]="{ 'border-left': '10px solid' + cRAG }">
          {{ sTitle }}
        </div>
        <div mat-dialog-content>
          <form #blogForm="ngForm" [formGroup]="blogGroup" (ngSubmit)="onUpdate(blogGroup.value)" class="form">
            <mat-form-field class="m-1 form-element" [ngStyle]="{ width: '100%' }">
              <input matInput placeholder="Title" formControlName="title" />
            </mat-form-field>
            <mat-tab-group #tabGroup class="m-2" mat-stretch-tabs="false" mat-align-tabs="start">
              <mat-tab label="Introduction">
                <ng-template matTabContent>
                  <!-- <text-editor [valueContent]="para" ></text-editor> -->
                  <dx-html-editor height="600px" [(value)]="para">
                    <dxo-toolbar>
                      <dxi-item name="undo"></dxi-item>
                      <dxi-item name="redo"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="size" [acceptedValues]="[
                          '8pt',
                          '10pt',
                          '12pt',
                          '14pt',
                          '18pt',
                          '24pt',
                          '36pt'
                        ]"></dxi-item>
                      <dxi-item name="font" [acceptedValues]="[
                          'Arial',
                          'Courier New',
                          'Georgia',
                          'Impact',
                          'Lucida Console',
                          'Tahoma',
                          'Times New Roman',
                          'Verdana'
                        ]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="bold"></dxi-item>
                      <dxi-item name="italic"></dxi-item>
                      <dxi-item name="strike"></dxi-item>
                      <dxi-item name="underline"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="alignLeft"></dxi-item>
                      <dxi-item name="alignCenter"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="link"></dxi-item>
                      <dxi-item name="image"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="alignRight"></dxi-item>
                      <dxi-item name="alignJustify"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="orderedList"></dxi-item>
                      <dxi-item name="bulletList"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="header" [acceptedValues]="[false, 1, 2, 3, 4, 5]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="color"></dxi-item>
                      <dxi-item name="background"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="link"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="clear"></dxi-item>
                      <dxi-item name="codeBlock"></dxi-item>
                      <dxi-item name="blockquote"></dxi-item>
                    </dxo-toolbar>
                  </dx-html-editor>
                </ng-template>
              </mat-tab>
              <mat-tab label="Main">
                <ng-template matTabContent>
                  <!-- <text-editor [valueContent]="body"></text-editor> -->
                  <dx-html-editor height="600px" [(value)]="body">
                    <dxo-toolbar>
                      <dxi-item name="undo"></dxi-item>
                      <dxi-item name="redo"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="size" [acceptedValues]="[
                          '8pt',
                          '10pt',
                          '12pt',
                          '14pt',
                          '18pt',
                          '24pt',
                          '36pt'
                        ]"></dxi-item>
                      <dxi-item name="font" [acceptedValues]="[
                          'Arial',
                          'Garamond',
                          'Courier New',
                          'Georgia',
                          'Impact',
                          'Lucida Console',
                          'Tahoma',
                          'Times New Roman',
                          'Verdana'
                        ]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="bold"></dxi-item>
                      <dxi-item name="italic"></dxi-item>
                      <dxi-item name="strike"></dxi-item>
                      <dxi-item name="underline"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="alignLeft"></dxi-item>
                      <dxi-item name="alignCenter"></dxi-item>
                      <dxi-item name="alignRight"></dxi-item>
                      <dxi-item name="alignJustify"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="link"></dxi-item>
                      <dxi-item name="image"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="orderedList"></dxi-item>
                      <dxi-item name="bulletList"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="header" [acceptedValues]="[false, 1, 2, 3, 4, 5]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="color"></dxi-item>
                      <dxi-item name="background"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="link"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="clear"></dxi-item>
                      <dxi-item name="codeBlock"></dxi-item>
                      <dxi-item name="blockquote"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                    </dxo-toolbar>
                    <dxo-media-resizing [enabled]="true"> </dxo-media-resizing>
                    <dxo-image-upload [tabs]="currentTab" fileUploadMode="base64">
                    </dxo-image-upload>
                  </dx-html-editor>
                </ng-template>
              </mat-tab>
              <mat-tab label="Conclusion">
                <ng-template matTabContent>
                  <!-- <text-editor [valueContent]="conclusion"></text-editor> -->
                  <dx-html-editor height="600px" [(value)]="conclusion">
                    <dxo-toolbar>
                      <dxi-item name="undo"></dxi-item>
                      <dxi-item name="redo"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="size" [acceptedValues]="[
                          '8pt',
                          '10pt',
                          '12pt',
                          '14pt',
                          '18pt',
                          '24pt',
                          '36pt'
                        ]"></dxi-item>
                      <dxi-item name="font" [acceptedValues]="[
                          'Arial',
                          'Courier New',
                          'Georgia',
                          'Impact',
                          'Lucida Console',
                          'Tahoma',
                          'Times New Roman',
                          'Verdana'
                        ]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="bold"></dxi-item>
                      <dxi-item name="italic"></dxi-item>
                      <dxi-item name="strike"></dxi-item>
                      <dxi-item name="underline"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="alignLeft"></dxi-item>
                      <dxi-item name="alignCenter"></dxi-item>
                      <dxi-item name="alignRight"></dxi-item>
                      <dxi-item name="alignJustify"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="orderedList"></dxi-item>
                      <dxi-item name="bulletList"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="header" [acceptedValues]="[false, 1, 2, 3, 4, 5]"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="color"></dxi-item>
                      <dxi-item name="background"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="link"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                      <dxi-item name="clear"></dxi-item>
                      <dxi-item name="codeBlock"></dxi-item>
                      <dxi-item name="blockquote"></dxi-item>
                      <dxi-item name="separator"></dxi-item>
                    </dxo-toolbar>
                  </dx-html-editor>
                </ng-template>
              </mat-tab>
              <mat-tab label="Images">
                <ng-container *ngIf="blogImages$ | async as data">
                  <app-gallery-lightbox class="h-100" [galleryData]="data" [showCount]="true">
                  </app-gallery-lightbox>
                </ng-container>
              </mat-tab>
            </mat-tab-group>
          </form>
        </div>
        <div mat-dialog-actions>
          <button mat-icon-button (click)="onUpdate(blog)" color="primary" aria-label="Add">
            <mat-icon [svgIcon]="'mat_outline:update'"></mat-icon>
          </button>
          <button (click)="onCreate(blog)" mat-icon-button color="primary" [disabled]="!blogGroup.valid">
            <mat-icon [svgIcon]="'mat_outline:add'"></mat-icon>
          </button>
          <button (click)="onDelete(blog)" mat-icon-button color="primary" [disabled]="!blogGroup.valid">
            <mat-icon [svgIcon]="'mat_outline:delete'"></mat-icon>
          </button>
          <button (click)="onImages()" mat-icon-button color="primary" [disabled]="!blogGroup.valid">
            <mat-icon [svgIcon]="'mat_outline:design_services'"></mat-icon>
          </button>
          <button (click)="closeDialog()" mat-icon-button color="warn">
            <mat-icon [svgIcon]="'mat_outline:close'"></mat-icon>
          </button>
        </div>
      </mat-card>
    </mat-drawer>

    <ng-container *ngIf="allBlogs$ | async as rows">
      <table mat-table [dataSource]="rows" class="mat-elevation-z8">
        <ng-container matColumnDef="title">
          <th class="m-1 text-base font-bold text-gray-100 bg-gray-500 text-align-center" mat-header-cell
            *matHeaderCellDef>
            Title
          </th>
          <td mat-cell *matCellDef="let element" class="w-50">
            <p>{{ element.title }}</p>
          </td>
        </ng-container>

        <ng-container matColumnDef="paragraph">
          <th class="m-1 text-base font-bold text-gray-100 bg-gray-500 border-white text-align-center" mat-header-cell
          *matHeaderCellDef>
          Introduction
        </th>

        <td mat-cell *matCellDef="let element" class="align-text-top h-20"
        [innerHTML]="element.paragraph | safe : 'html'"></td>
        </ng-container>

        <!-- <ng-container matColumnDef="body">
          <th class="m-1 text-base font-bold text-gray-100 bg-gray-500 border-white text-align-center" mat-header-cell
            *matHeaderCellDef>
            Body
          </th>
          <td mat-cell *matCellDef="let element">
            <p class="align-text-top w-250 h-30" [innerHTML]="element.body | safe : 'html'"></p>
          </td>
        </ng-container> -->

        <ng-container matColumnDef="conclusion">
          <th class="m-1 text-base font-bold text-gray-100 bg-gray-500 border-white text-align-center" mat-header-cell
            *matHeaderCellDef>
            Conclusion
          </th>
          <td mat-cell *matCellDef="let element" class="align-text-top h-20"
            [innerHTML]="element.conclusion | safe : 'html'"></td>
        </ng-container>

        <ng-container matColumnDef="selection">
          <th class="m-1 text-base font-bold text-gray-100 bg-gray-500 border-white text-align-center" mat-header-cell
            *matHeaderCellDef>
            Edit
          </th>
          <td mat-cell *matCellDef="let element">
            <mat-checkbox (change)="onBlogToggle(blog)">

            </mat-checkbox>
          </td>
        </ng-container>

        <tr class="text-base font-bold" mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
        <tr class="m-1 hover:bg-gray-100" mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
      </table>
      <button (click)="onAdd()" class="fixed bottom-3 right-14 p-1 w-12 h-12 bg-blue-600 rounded-full hover:bg-blue-800 active:shadow-lg mouse shadow transition ease-in duration-200 focus:outline-none">
      <svg viewBox="0 0 20 20" enable-background="new 0 0 20 20" class="w-6 h-6 inline-block">
        <path fill="#FFFFFF" d="M16,10c0,0.553-0.048,1-0.601,1H11v4.399C11,15.951,10.553,16,10,16c-0.553,0-1-0.049-1-0.601V11H4.601
                C4.049,11,4,10.553,4,10c0-0.553,0.049-1,0.601-1H9V4.601C9,4.048,9.447,4,10,4c0.553,0,1,0.048,1,0.601V9h4.399
                C15.952,9,16,9.447,16,10z" />
      </svg>
    </button>

    </ng-container>
  </mat-drawer-container>
</div>
